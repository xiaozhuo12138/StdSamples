<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SynthLab SDK: SynthLab::WaveFolder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SynthLab SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_synth_lab_1_1_wave_folder.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_synth_lab_1_1_wave_folder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SynthLab::WaveFolder Class Reference<div class="ingroups"><a class="el" href="group___synth_objects.html">SynthObjects</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Opens a folder full of WAV files and gleans information about the files to prep them for parsing and having their sample guts extracted. This object can figure out MIDI unity note numbers from the WAV file names (e.g. Dagga_A#4.wav). This object is used to parse folders of samples to build patches for sample based synths.  
 <a href="class_synth_lab_1_1_wave_folder.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="pcmsample_8h_source.html">pcmsample.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad08dc6b1049ff859cdef594045146cd6"><td class="memItemLeft" align="right" valign="top"><a id="ad08dc6b1049ff859cdef594045146cd6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>WaveFolder</b> (const char *_waveFolderPath, const char *_waveFolderName)</td></tr>
<tr class="separator:ad08dc6b1049ff859cdef594045146cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9534f6788551f925ca1428603fa4ca2"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_synth_lab_1_1_wave_folder.html#ac9534f6788551f925ca1428603fa4ca2">parseFolder</a> (<a class="el" href="class_synth_lab_1_1_p_c_m_sample.html">PCMSample</a> **sampleSet, bool pitchlessLoops, bool aubioSlices=false)</td></tr>
<tr class="memdesc:ac9534f6788551f925ca1428603fa4ca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main function that opens a folder, creates the WAV information map, and then parses the files in succession after that. This uses some platform independent code for iterating through folders and files.  <a href="#ac9534f6788551f925ca1428603fa4ca2">More...</a><br /></td></tr>
<tr class="separator:ac9534f6788551f925ca1428603fa4ca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95253c59592b767e04395473eda23e5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_synth_lab_1_1_wave_folder.html#a95253c59592b767e04395473eda23e5d">addNextFileToMap</a> (std::string fileFolderPath, std::string fileName, bool aubioSlices, std::map&lt; int, std::string &gt; *wavFilePaths, int &amp;fileCount)</td></tr>
<tr class="memdesc:a95253c59592b767e04395473eda23e5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds information about a WAV file in the folder to a map that is later used to parse the files in succession.  <a href="#a95253c59592b767e04395473eda23e5d">More...</a><br /></td></tr>
<tr class="separator:a95253c59592b767e04395473eda23e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a336cbdaa92ecc97f4910bfed3052ce81"><td class="memItemLeft" align="right" valign="top"><a id="a336cbdaa92ecc97f4910bfed3052ce81"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>eraseSubStr</b> (std::string &amp;mainStr, const std::string &amp;toErase)</td></tr>
<tr class="separator:a336cbdaa92ecc97f4910bfed3052ce81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a6ff6abfe6d4019c2b4ade3971c5d0be1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_synth_lab_1_1_wave_folder.html#a6ff6abfe6d4019c2b4ade3971c5d0be1">buildNoteTables</a> ()</td></tr>
<tr class="memdesc:a6ff6abfe6d4019c2b4ade3971c5d0be1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the tables for trying to suss out the MIDI note number from a filename that attempts to include the note name/number in its filename.  <a href="#a6ff6abfe6d4019c2b4ade3971c5d0be1">More...</a><br /></td></tr>
<tr class="separator:a6ff6abfe6d4019c2b4ade3971c5d0be1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2caaa7e3c56356e20fe664d96a280e2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_synth_lab_1_1_wave_folder.html#ae2caaa7e3c56356e20fe664d96a280e2">findNoteNumberInName</a> (const char *filename, bool shiftUpOctave=true)</td></tr>
<tr class="memdesc:ae2caaa7e3c56356e20fe664d96a280e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">figure out MIDI note number from string  <a href="#ae2caaa7e3c56356e20fe664d96a280e2">More...</a><br /></td></tr>
<tr class="separator:ae2caaa7e3c56356e20fe664d96a280e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aa80d9b961cefd80a26ced2b996520a57"><td class="memItemLeft" align="right" valign="top"><a id="aa80d9b961cefd80a26ced2b996520a57"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>waveFolderPath</b></td></tr>
<tr class="separator:aa80d9b961cefd80a26ced2b996520a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad17daa58fb24dfec72dc38307ada58cf"><td class="memItemLeft" align="right" valign="top"><a id="ad17daa58fb24dfec72dc38307ada58cf"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>waveFolderName</b></td></tr>
<tr class="separator:ad17daa58fb24dfec72dc38307ada58cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23f4c988a7eb14cc81cf0803a90dfb2"><td class="memItemLeft" align="right" valign="top"><a id="ae23f4c988a7eb14cc81cf0803a90dfb2"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_synth_lab_1_1_wave_folder.html#ae23f4c988a7eb14cc81cf0803a90dfb2">noteTableSharps</a> [120]</td></tr>
<tr class="memdesc:ae23f4c988a7eb14cc81cf0803a90dfb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">table with characters used to decode filenames with sharps <br /></td></tr>
<tr class="separator:ae23f4c988a7eb14cc81cf0803a90dfb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23cedeb7339465dbc10f453a59e5694b"><td class="memItemLeft" align="right" valign="top"><a id="a23cedeb7339465dbc10f453a59e5694b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_synth_lab_1_1_wave_folder.html#a23cedeb7339465dbc10f453a59e5694b">noteTableFlats</a> [120]</td></tr>
<tr class="memdesc:a23cedeb7339465dbc10f453a59e5694b"><td class="mdescLeft">&#160;</td><td class="mdescRight">table with characters used to decode filenames with flats <br /></td></tr>
<tr class="separator:a23cedeb7339465dbc10f453a59e5694b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Opens a folder full of WAV files and gleans information about the files to prep them for parsing and having their sample guts extracted. This object can figure out MIDI unity note numbers from the WAV file names (e.g. Dagga_A#4.wav). This object is used to parse folders of samples to build patches for sample based synths. </p>
<dl class="section author"><dt>Author</dt><dd>Will Pirkle <a href="http://www.willpirkle.com">http://www.willpirkle.com</a> </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This object is included and described in further detail in Designing Software Synthesizer Plugins in C++ 2nd Ed. by Will Pirkle </dd></dl>
<dl class="section version"><dt>Version</dt><dd>Revision : 1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Date : 2021 / 04 / 26 </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a95253c59592b767e04395473eda23e5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95253c59592b767e04395473eda23e5d">&#9670;&nbsp;</a></span>addNextFileToMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SynthLab::WaveFolder::addNextFileToMap </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>fileFolderPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aubioSlices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; int, std::string &gt; *&#160;</td>
          <td class="paramname"><em>wavFilePaths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>fileCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds information about a WAV file in the folder to a map that is later used to parse the files in succession. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileFolderPath</td><td>the WAV <em>folder</em> path </td></tr>
    <tr><td class="paramname">fileName</td><td>the WAV filename </td></tr>
    <tr><td class="paramname">aubioSlices</td><td>set to TRUE if these are aubio slice files </td></tr>
    <tr><td class="paramname">wavFilePaths</td><td>map to add information to </td></tr>
    <tr><td class="paramname">fileCount</td><td>return value of the number of files found </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6ff6abfe6d4019c2b4ade3971c5d0be1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ff6abfe6d4019c2b4ade3971c5d0be1">&#9670;&nbsp;</a></span>buildNoteTables()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SynthLab::WaveFolder::buildNoteTables </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets up the tables for trying to suss out the MIDI note number from a filename that attempts to include the note name/number in its filename. </p>

</div>
</div>
<a id="ae2caaa7e3c56356e20fe664d96a280e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2caaa7e3c56356e20fe664d96a280e2">&#9670;&nbsp;</a></span>findNoteNumberInName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t SynthLab::WaveFolder::findNoteNumberInName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>shiftUpOctave</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>figure out MIDI note number from string </p>
<p>Try to figure out the MIDI note number from the WAV filename.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>the WAV filename </td></tr>
    <tr><td class="paramname">shiftUpOctave</td><td>set true to offset by one octave; this is due to the two different MIDI note numbering systems still in use that are off by one octave</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the MIDI note number, if found or -1 if not found </dd></dl>

</div>
</div>
<a id="ac9534f6788551f925ca1428603fa4ca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9534f6788551f925ca1428603fa4ca2">&#9670;&nbsp;</a></span>parseFolder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SynthLab::WaveFolder::parseFolder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_synth_lab_1_1_p_c_m_sample.html">PCMSample</a> **&#160;</td>
          <td class="paramname"><em>sampleSet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>pitchlessLoops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aubioSlices</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main function that opens a folder, creates the WAV information map, and then parses the files in succession after that. This uses some platform independent code for iterating through folders and files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sampleSet</td><td>the return variable, an array of pointers to loaded PCM samples </td></tr>
    <tr><td class="paramname">pitchlessLoops</td><td>set TRUE if you know the folder has pitchless loops like drum loops </td></tr>
    <tr><td class="paramname">aubioSlices</td><td>set to TRUE if these are aubio slice files</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of WAV files successfully opened and parsed </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/RackAFX Projects/SynthLab_SDK/source/<a class="el" href="pcmsample_8h_source.html">pcmsample.h</a></li>
<li>C:/RackAFX Projects/SynthLab_SDK/source/<a class="el" href="pcmsample_8cpp.html">pcmsample.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>SynthLab</b></li><li class="navelem"><a class="el" href="class_synth_lab_1_1_wave_folder.html">WaveFolder</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
