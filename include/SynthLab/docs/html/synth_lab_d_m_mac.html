<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SynthLab SDK: SynthLab-DM MacOS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SynthLab SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('synth_lab_d_m_mac.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SynthLab-DM MacOS </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Creating SynthLab-DM projects in Xcode is simple and easy. These instructions are for Xcode 12 but should be the same for other versions. The DM core files include two (<a class="el" href="pcmsample_8h.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">PCMSample.h</a> and <a class="el" href="pcmsample_8cpp.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">PCMSample.cpp</a>) for PCM sample support that require the Corefoundation framework, which comes with the compiler. When you are done, you will have a very small and simple project that builds a dylib. Note that you use the same set of sdk files for both MacOS and Windows and there are no compiler pre-processor commands or special link settings.</p>
<p><br />
 </p><div class="image">
<img src="new_DM_mac_1.png" alt="new_DM_mac_1.png"/>
</div>
<h2>SynthLab-DM Project: Xcode </h2>
<p>In Xcode use:</p><ol type="1">
<li>File -&gt; New Project</li>
<li>macOS -&gt; Library (this is under "Framework &amp; Library")</li>
<li>Name and choose Framework -&gt; None(Plain C/C++ Library)</li>
<li>When the the Xcode Project opens, go to the Target panel and select your project name, then</li>
</ol>
<ul>
<li>Go to Build Phases -&gt; Link Binary with Libraries</li>
<li>Hit the (+) button and add: Corefoundation framework from the massive list</li>
</ul>
<ol type="1">
<li><b>OPTIONAL</b> add a post build rule to the Xcode Build Phases to copy the dylib to its final destination; see the example module solutions for help</li>
</ol>
<p>Here is the Framework setup:</p>
<p><br />
 </p><div class="image">
<img src="corefoundation.png" alt="corefoundation.png"/>
</div>
<p> <br />
</p>
<p>And here is the Build Phase for copying an oscillator dylib to the prescribed folder; alter the syntax as needed.</p>
<p><br />
 </p><div class="image">
<img src="dmdev_9.png" alt="dmdev_9.png"/>
</div>
<p> <br />
</p>
<p>At this point, the compiler settings are done, and you only need to add the files from the corefiles folder. <br />
</p>
<p><b>Add DM Core Files</b> <br />
 You have two choices here: make copies of the core files and use those, or share the core files with other projects. Here we will make a copy and use that. Later on, you can share the files across projects as you like.</p><ol type="1">
<li>In the SDK /dm_support find the /corefiles/ folder and copy that into your new Xcode project folder so that it resides along side of the project.xcodeprojfile</li>
<li>In Xcode's navigator, right-click and choose "Add files to //your project//" then browse and add all of the files in the /corefiles/ folder</li>
</ol>
<p><b>Add DM Core Files</b> <br />
 You need the two DLL support files along with the files that contain the ModuleCore C++ object. First, copy the two DLL files from the SynthLab_SDK/synthlab_dm/dll_support_files/ into your project folder, then in Xcode's navigator, right-click and choose "Add files to //your project//" to import the files</p><ul>
<li>synthlabdll.h</li>
<li>synthlabdll.cpp</li>
</ul>
<p>Then, if starting from scratch: copy the two template files from SynthLab_SDK/source/core_templates/ into your project folder; these are blank files with just the skeleton code you need to implement a ModuleCore from scratch, then in Xcode's navigator, right-click and choose "Add files to //your project//" to import the files</p><ul>
<li>synthlabcore.h</li>
<li>synthlabcore.cpp</li>
</ul>
<p>Or, if cloning an existing core: choose the two core files from the SDK (e.g. <a class="el" href="classicwtcore_8h.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">classicwtcore.h</a> and <a class="el" href="classicwtcore_8cpp.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">classicwtcore.cpp</a>) and copy them into your project folder, changing their names to synthlabcore.h and synthlabcore.cpp. Then with a text editor, open the files and change all occurrances of the class name (e.g. ClassicWTCore here) to SynthLabCore. Make sure to change the name of the #included .h file while you are at it. Then in Xcode's navigator, right-click and choose "Add files to //your project//" to import the files which really contain a clone of the SDK object of choice</p><ul>
<li>synthlabcore.h</li>
<li>synthlabcore.cpp</li>
</ul>
<p><b>Add SDK Files</b> <br />
 Next, add the necessary SDK files for your DM project. You may use the example projects to get started. Most of these projects will require around 10 files depending on type. The example projects and this documentation will help you figure out what you need. <b>When in doubt, just add ALL of the sdk_files to your project; all of the example projects will build from these same sets of files, even if not needed.</b> But ultimately you want to pare down the set of files to a minimum. <br />
</p>
<p>And, every DM core project will require an identical set of "core" files to start:</p><ul>
<li><a class="el" href="basiclookuptables_8h.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">basiclookuptables.h</a> and <a class="el" href="basiclookuptables_8cpp.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">basiclookuptables.cpp</a></li>
<li><a class="el" href="bleptables_8h.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">bleptables.h</a></li>
<li><a class="el" href="synthbase_8h.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">synthbase.h</a> and <a class="el" href="synthbase_8cpp.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">synthbase.cpp</a></li>
<li><a class="el" href="synthconstants_8h.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">synthconstants.h</a></li>
<li><a class="el" href="synthlabparams_8h_source.html">synthlabparams.h</a></li>
<li><a class="el" href="synthstructures_8h_source.html">synthstructures.h</a></li>
</ul>
<p><b>Do a Test Build</b> <br />
 Rebuild the library; the core files are set to give you an empty ModuleCore by default, found in the synthlabcore.h and .cpp files. When this builds successfully, if you are re-packaging an existing ModuleCore, then you may follow the steps in the previous section regarding altering the project for your new module name. <br />
</p>
<p><b>Test the DM</b> <br />
 Copy the __.dylib__ file from the local /Debug/ or /Release/ folder into the SynthLabModules folder in your main plugin binary folder as per the instructions at the start of this guide. Start SynthLab-DM and find your new ModuleCore in the appropriate location to test and develop.</p>
<p><br />
 </p><div class="image">
<img src="synthlab_4.png" alt="synthlab_4.png"/>
</div>
<p> <br />
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">SynthLab Developer&#39;s Guide</a></li><li class="navelem"><a class="el" href="synth_lab_d_m.html">Creating SynthLab-DM Modules</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
