<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SynthLab SDK: SynthLab-DM Windows</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SynthLab SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('synth_lab_d_m_win.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SynthLab-DM Windows </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>There are example projects for all DM cores, but at some point you will want to start creating your own from scratch. Creating SynthLab-DM projects in Visual Studio is easy and nearly identical from VS2015 to VS2019. You first create a new blank project, and then modify it to become a DLL project. This is actually simpler than creating a new DLL project, and then removing a bunch of code and compiler settings to make it compatible. SynthLab-DM projects are simpler than you think, not more complicated. The process for VS2017 and VS2019 are nearly identical, only differing in Microsoft's naming conventions of some of the compiler settings. When you are done, you will have a very small and simple project that builds a DLL. Note that you use the same set of sdk files for both MacOS and Windows and there are no compiler pre-processor commands or special link settings.</p>
<p><br />
 </p><div class="image">
<img src="new_DM_win_1.png" alt="new_DM_win_1.png"/>
</div>
<p> <br />
</p>
<h2>SynthLab-DM Project: Visual Studio 2017 </h2>
<p>You will be mainly targeting the x64 configuration, unless you want to use these modules with RackAFX plugins, in which case you need to target Win32 (aka x86).</p><ol type="1">
<li>File -&gt; New Project</li>
<li>Visual C++ -&gt; General -&gt; Empty Project</li>
<li>Set Name and Folder location, then create the project</li>
<li>When the the VS project opens, go to</li>
</ol>
<ul>
<li>Solution Explorer -&gt; Properties</li>
<li>Choose All Configurations from the top drop list</li>
<li>General -&gt; Project Defaults -&gt; Configuration Type: change to "Dynamic Library (dll)"</li>
<li>General -&gt; Character Set -&gt; Use Multi-Byte Character Set</li>
</ul>
<ol type="1">
<li>Apply changes to the x64 Configurations</li>
<li>Apply changes to the Win32 Configuration if you want to build a DM for RackAFX plugins</li>
<li><b>OPTIONAL</b> add a post build rule to the VS project to copy the DLL to its final destination; see the example module solutions for help</li>
</ol>
<h2>SynthLab-DM Project: Visual Studio 2019 </h2>
<ol type="1">
<li>File -&gt; New Project</li>
<li>Choose the C++ Empty Project</li>
<li>Set Name and Folder location, then create the project</li>
<li>When the the VS project opens, go to</li>
</ol>
<ul>
<li>Solution Explorer -&gt; Properties</li>
<li>Choose All Configurations from the top drop list</li>
<li>General -&gt; General Properties -&gt; Configuration Type: change to "Dynamic Library (dll)"</li>
<li>Advanced -&gt; Character Set -&gt; Use Multi-Byte Character Set</li>
</ul>
<ol type="1">
<li>Apply changes to the x64 Configurations</li>
<li>Apply changes to the Win32 Configuration if you want to build a DM for RackAFX plugins</li>
<li><b>OPTIONAL</b> add a post build rule to the VS project to copy the DLL to its final destination; see the example module solutions for help</li>
</ol>
<p>The Post-Build rule syntax is below; alter it as needed for your module type (here it is for the oscillators):</p>
<div class="fragment"><div class="line"><span class="comment">//</span></div><div class="line">copy /Y <span class="stringliteral">&quot;$(OutDir)$(TargetName)$(TargetExt)&quot;</span> <span class="stringliteral">&quot;..\..\..\..\dm_modules\x64\SynthLabModules\windows\oscillators\$(TargetName)$(TargetExt)&quot;</span></div><div class="line"><span class="comment">//</span></div></div><!-- fragment --><p>At this point, the process is the same for any Visual Studio project. <br />
</p>
<p><b>Add DM Core Files</b> <br />
 You need the two DLL support files along with the files that contain the ModuleCore C++ oject. First: copy the two DLL files from the SynthLab_SDK/synthlab_dm/dll_support_files/ into your project folder, then in the VS solution Explorer, right-click and use Add -&gt; Existing Item to import these files</p><ul>
<li>synthlabdll.h</li>
<li>synthlabdll.cpp</li>
</ul>
<p>If starting from scratch: copy the two template files from SynthLab_SDK/source/core_templates/ into your project folder; these are blank files with just the skeleton code you need to implement a ModuleCore from scratch, then in the VS solution Explorer, right-click and use Add -&gt; Existing Item to import these files</p><ul>
<li>synthlabcore.h</li>
<li>synthlabcore.cpp</li>
</ul>
<p>If cloning an existing core: choose the two core files from the SDK (e.g. <a class="el" href="classicwtcore_8h.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">classicwtcore.h</a> and <a class="el" href="classicwtcore_8cpp.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">classicwtcore.cpp</a>) and copy them into your project folder, changing their names to synthlabcore.h and synthlabcore.cpp. Then with a text editor, open the files and change all occurrances of the class name (e.g. ClassicWTCore here) to SynthLabCore. Make sure to change the name of the #included .h file while you are at it. Then in the VS solution Explorer, right-click and use Add -&gt; Existing Item to import these files, which really contain a clone of the SDK files</p><ul>
<li>synthlabcore.h</li>
<li>synthlabcore.cpp</li>
</ul>
<p><b>Add the SDK Files</b> <br />
 Next, add the necessary SDK files (from the special <b>sdk_files</b> folder) for your DM project. You may use the example projects to get started. Most of these projects will require around 10 files depending on type. The example projects and this documentation will help you figure out what you need. <b>When in doubt, just add ALL of the sdk_files to your project; all of the example projects will build from these same sets of files, even if not needed.</b> But ultimately you want to pare down the set of files to a minimum. <br />
</p>
<p>And, every DM core project will require an identical set of "core" files to start:</p><ul>
<li><a class="el" href="basiclookuptables_8h.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">basiclookuptables.h</a> and <a class="el" href="basiclookuptables_8cpp.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">basiclookuptables.cpp</a></li>
<li><a class="el" href="bleptables_8h.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">bleptables.h</a></li>
<li><a class="el" href="synthbase_8h.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">synthbase.h</a> and <a class="el" href="synthbase_8cpp.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">synthbase.cpp</a></li>
<li><a class="el" href="synthconstants_8h.html" title="See also Designing Software Synthesizers in C++ 2nd Ed. by Will Pirkle. ">synthconstants.h</a></li>
<li><a class="el" href="synthlabparams_8h_source.html">synthlabparams.h</a></li>
<li><a class="el" href="synthstructures_8h_source.html">synthstructures.h</a></li>
</ul>
<p><b>Do a Test Build</b> <br />
 Rebuild the DLL; the core files are set to give you an empty ModuleCore by default, found in the synthlabcore.h and .cpp files, make sure to choose the proper configuration (all SynthLab products for AU and VST3 are x64, while RackAFX modules are x86). When this builds successfully, if you are re-packaging an existing ModuleCore, then you may follow the steps in the previous section regarding altering the project for your new module name. <br />
</p>
<p><b>Test the DM</b> <br />
 Copy the DLL file from the local SynthLabModules folder into the SynthLabModules folder in your main plugin binary folder as per the instructions above. Start SynthLab-DM and find your new ModuleCore in the appropriate preferred slot to test and develop.</p>
<p><br />
 </p><div class="image">
<img src="synthlab_4.png" alt="synthlab_4.png"/>
</div>
<p> <br />
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">SynthLab Developer&#39;s Guide</a></li><li class="navelem"><a class="el" href="synth_lab_d_m.html">Creating SynthLab-DM Modules</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
