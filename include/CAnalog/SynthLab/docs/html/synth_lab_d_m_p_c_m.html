<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SynthLab SDK: SynthLab-PCM</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SynthLab SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('synth_lab_d_m_p_c_m.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SynthLab-PCM </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>The SynthLab-PCM example demonstrates a sample-based synth</b> that loads its PCM samples from WAV files at startup time. This incurs a hit of time while the files are opened and parsed, but makes all samples instantly available. Other schemes including a multi-threaded application to the PCM sample-loading problem are discussed in the <a href="https://www.routledge.com/Designing-Software-Synthesizer-Plugins-in-C-With-Audio-DSP/Pirkle/p/book/9780367510466" target="_blank">synth book</a>. For simplicity in teaching and coding, this scheme is chosen over a file-access based plan. See the option below for instructions on limiting the number of PCM samples loaded if you have memory issues or want to speed up the loading process. The PCM synth requires a set of folders full of PCM samples encapsulated in WAV files. See <a class="el" href="pcm_sample_files.html">PCM Sample Files &amp; Database</a> for information on the location of these files. <br />
</p>
<p>The modulation matrix is formatted as a "pin programmable" control, reminiscent of the EMS VCS3. Note that the ModulationMatrix C++ object is designed for a variety of different interfaces with intensity controls and internal switches that will work with practially any mod matrix scheme. For all SynthLab examples, the filterEG -&gt; filter fc routings are pre-enabled and the source and destination intensities are set to 0.75 so that you will hear the effects in the first patch. This panel also includes the ping-pong delay controls.</p>
<p><br />
 </p><div class="image">
<img src="SynthLab_PCM_00.png" alt="SynthLab_PCM_00.png"/>
</div>
<p> <br />
</p>
<p>Figure 1. SynthLab-PCM Interface</p>
<h2>Sample Selection &amp; Storage </h2>
<p>All of the included PCM cores access folders full of wave files, one folder per waveform (or patch). You select a core and then a PCM sample from that core. Figure 2 shows the selection of the Mellotron core, followed by a selection of the Mellotron wavform. Additional cores and waveforms are listed in Table 1.</p>
<p><br />
 </p><div class="image">
<img src="SynthLab_PCM_1.png" alt="SynthLab_PCM_1.png"/>
</div>
<p> <br />
</p>
<p>Figure 2: the PCM waveform selection is simple and effective</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">PCM Oscillator Core  </th><th class="markdownTableHeadNone">Samples   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">LegacyPCMCore  </td><td class="markdownTableBodyNone">16 legacy multisamples from the 1st edition of the <a href="https://www.routledge.com/Designing-Software-Synthesizer-Plugins-in-C-With-Audio-DSP/Pirkle/p/book/9780367510466" target="_blank">synth book</a>   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">MellotronCore  </td><td class="markdownTableBodyNone">full length recordings of the tape loops in the Mellotron (8-11 seconds)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">WaveSliceCore  </td><td class="markdownTableBodyNone">a WAV file is sliced into components on transient edges and mapped to the C-major scale starting at Middle-C   </td></tr>
</table>
<p>NOTE: the Mellotron samples sound an octave lower than the note letter (embedded in the filename) suggests and this may be due to the fact that there is still two different numbering conventions that go back to the origins of MIDI. The C++ <b>WaveFolder</b> object includes a function that finds note letters (and sharps/flats) in the WAV file string. The findNoteNumerInName( ) function has an argument that will shift the note numbers up an octave. You may want to mofify that function to shift up by two octaves if the Mellotron samples still sound too low.</p>
<div class="fragment"><div class="line"><span class="comment">// --- see the documentation for the WaveFolder object!</span></div><div class="line">int32_t WaveFolder::findNoteNumberInName(<span class="keyword">const</span> <span class="keywordtype">char</span>* filename, <span class="keywordtype">bool</span> shiftUpOctave)</div><div class="line"><span class="comment">//</span></div></div><!-- fragment --><p><b>BONUS Samples</b> There is a bonus folder named "drumloops" of pitchless drum loops that you may use for experimentation and development of your own drum loop PCM sample core (for book homework). All of these are designed to loop from start to end and back around again. If using them, be sure to set their looping types when you register them with the PCM database.</p>
<h2>Modulation Matrix </h2>
<p>Figure 3 shows the modulatiom matrix panel, which is fundamentally identical across all SynthLab synths (there are minor differences for the DX and WS varieties). The destinations are columns and sources are rows. Each source and destination features a single intensity control (see the <a href="https://www.routledge.com/Designing-Software-Synthesizer-Plugins-in-C-With-Audio-DSP/Pirkle/p/book/9780367510466" target="_blank">synth book</a> for alternate modulation matrix schemes). Routings are enabled by pressing the buttons that connect rows and columns. <b>For the PCM synth, the unique modulation is pan-mod.</b> In Figure 3, you can see that LFO2 has been chosen as a modulation source for the "unique modulation" destination and source/destination intensities have been adjusted for operation.</p>
<p><br />
 </p><div class="image">
<img src="SynthLab_PCM_2.png" alt="SynthLab_PCM_2.png"/>
</div>
<p> <br />
</p>
<p>Figure 3: SynthLab-PCM modulation matrix panel with LFO2 selected for the oscillator unique modulation</p>
<p><br />
 </p><div class="image">
<img src="synthlab_4.png" alt="synthlab_4.png"/>
</div>
<p> <br />
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">SynthLab Developer&#39;s Guide</a></li><li class="navelem"><a class="el" href="dm_examples.html">SynthLab-DM Synths</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
