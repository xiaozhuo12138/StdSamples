<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Loris: Loris::Collator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Loris
   &#160;<span id="projectnumber">1.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00143.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="a00140.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Loris::Collator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="a00017_source.html">Collator.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a609812d28f13705819b0bfbedf9ff1be"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="a00143.html#a609812d28f13705819b0bfbedf9ff1beaf9eda003154649a4435e6c88769b44a0">DefaultFadeTimeMs</a> = Distiller::DefaultFadeTimeMs, 
<a class="el" href="a00143.html#a609812d28f13705819b0bfbedf9ff1bea282e2eeda73570a182c3edfb5f614b48">DefaultSilentTimeMs</a> = Distiller::DefaultSilentTimeMs
 }</td></tr>
<tr class="separator:a609812d28f13705819b0bfbedf9ff1be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5c138bd394e2d1e1a73ecfc3993d9edd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00143.html#a5c138bd394e2d1e1a73ecfc3993d9edd">Collator</a> (double partialFadeTime=<a class="el" href="a00143.html#a609812d28f13705819b0bfbedf9ff1beaf9eda003154649a4435e6c88769b44a0">Collator::DefaultFadeTimeMs</a>/1000.0, double partialSilentTime=<a class="el" href="a00143.html#a609812d28f13705819b0bfbedf9ff1bea282e2eeda73570a182c3edfb5f614b48">Collator::DefaultSilentTimeMs</a>/1000.0)</td></tr>
<tr class="separator:a5c138bd394e2d1e1a73ecfc3993d9edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6697f31891da46a32b01559a4a687f7"><td class="memTemplParams" colspan="2">template&lt;typename Container &gt; </td></tr>
<tr class="memitem:ad6697f31891da46a32b01559a4a687f7"><td class="memTemplItemLeft" align="right" valign="top">Container::iterator&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00143.html#ad6697f31891da46a32b01559a4a687f7">collate</a> (Container &amp;partials)</td></tr>
<tr class="separator:ad6697f31891da46a32b01559a4a687f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9103f890b518600b14f5fca890c8544c"><td class="memTemplParams" colspan="2">template&lt;typename Container &gt; </td></tr>
<tr class="memitem:a9103f890b518600b14f5fca890c8544c"><td class="memTemplItemLeft" align="right" valign="top">Container::iterator&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00143.html#a9103f890b518600b14f5fca890c8544c">operator()</a> (Container &amp;partials)</td></tr>
<tr class="memdesc:a9103f890b518600b14f5fca890c8544c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function call operator: same as collate( PartialList &amp; partials ).  <a href="a00143.html#a9103f890b518600b14f5fca890c8544c">More...</a><br /></td></tr>
<tr class="separator:a9103f890b518600b14f5fca890c8544c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a28f2054049f3672dcbb9764a912946bc"><td class="memTemplParams" colspan="2">template&lt;typename Container &gt; </td></tr>
<tr class="memitem:a28f2054049f3672dcbb9764a912946bc"><td class="memTemplItemLeft" align="right" valign="top">static Container::iterator&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00143.html#a28f2054049f3672dcbb9764a912946bc">collate</a> (Container &amp;partials, double partialFadeTime, double partialSilentTime)</td></tr>
<tr class="separator:a28f2054049f3672dcbb9764a912946bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class <a class="el" href="a00143.html">Collator</a> represents an algorithm for reducing a collection of Partials into the smallest collection of "equivalent" Partials by joining non-overlapping Partials end to end.</p>
<p>Partials that are not labeled, that is, Partials having label 0, are "collated " into groups of non-overlapping (in time) Partials, and fused into a single <a class="el" href="a00239.html">Partial</a> per group. "Collating" is a bit like "distilling" but non-overlapping Partials are grouped without regard to frequency proximity. This algorithm produces the smallest-possible number of collated Partials. Thanks to Ulrike Axen for providing this optimal algorithm.</p>
<p>Collating modifies the <a class="el" href="a00239.html">Partial</a> container (a PartialList). Only unlabeled (labeled 0) Partials are affected by the collating operation. Collated Partials are moved to the end of the collection of Partials. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a609812d28f13705819b0bfbedf9ff1be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a609812d28f13705819b0bfbedf9ff1be">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a609812d28f13705819b0bfbedf9ff1beaf9eda003154649a4435e6c88769b44a0"></a>DefaultFadeTimeMs&#160;</td><td class="fielddoc"><p>Default time in milliseconds over which Partials joined by distillation fade to and from zero amplitude. Divide by 1000 to use as a member function parameter. This parameter should be the same in <a class="el" href="a00151.html">Distiller</a>, <a class="el" href="a00339.html">Sieve</a>, and <a class="el" href="a00143.html">Collator</a>. </p>
</td></tr>
<tr><td class="fieldname"><a id="a609812d28f13705819b0bfbedf9ff1bea282e2eeda73570a182c3edfb5f614b48"></a>DefaultSilentTimeMs&#160;</td><td class="fielddoc"><p>Default minimum duration in milliseconds of the silent (zero-amplitude) gap between two Partials joined by distillation. Divide by 1000 to use as a member function parameter. This parameter should be the same in <a class="el" href="a00151.html">Distiller</a>, <a class="el" href="a00339.html">Sieve</a>, and <a class="el" href="a00143.html">Collator</a>. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5c138bd394e2d1e1a73ecfc3993d9edd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c138bd394e2d1e1a73ecfc3993d9edd">&#9670;&nbsp;</a></span>Collator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Loris::Collator::Collator </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>partialFadeTime</em> = <code><a class="el" href="a00143.html#a609812d28f13705819b0bfbedf9ff1beaf9eda003154649a4435e6c88769b44a0">Collator::DefaultFadeTimeMs</a>/1000.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>partialSilentTime</em> = <code><a class="el" href="a00143.html#a609812d28f13705819b0bfbedf9ff1bea282e2eeda73570a182c3edfb5f614b48">Collator::DefaultSilentTimeMs</a>/1000.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct a new <a class="el" href="a00143.html">Collator</a> using the specified fade and gap times between Partials. When two Partials are joined, the collated <a class="el" href="a00239.html">Partial</a> fades out at the end of the earlier <a class="el" href="a00239.html">Partial</a> and back in again at the onset of the later one. The fade time is the time over which these fades occur. By default, use a 5 ms fade time. The gap time is the additional time over which a <a class="el" href="a00239.html">Partial</a> faded out must remain at zero amplitude before it can fade back in. By default, use a gap time of one millisecond, to prevent a pair of arbitrarily close null Breakpoints being inserted. (Defaults are copied from the <a class="el" href="a00151.html">Distiller</a>.)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partialFadeTime</td><td>is the time (in seconds) over which Partials joined by distillation fade to and from zero amplitude. Default is 0.005 (one millisecond). </td></tr>
    <tr><td class="paramname">partialSilentTime</td><td>is the minimum duration (in seconds) of the silent (zero-amplitude) gap between two Partials joined by distillation. (Default is 0.001 (one millisecond). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad6697f31891da46a32b01559a4a687f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6697f31891da46a32b01559a4a687f7">&#9670;&nbsp;</a></span>collate() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Container &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Container::iterator Loris::Collator::collate </td>
          <td>(</td>
          <td class="paramtype">Container &amp;&#160;</td>
          <td class="paramname"><em>partials</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Collate unlabeled (zero-labeled) Partials into the smallest-possible number of Partials that does not combine any overlapping Partials. Collated Partials assigned labels higher than any label in the original list, and appear at the end of the sequence, after all previously-labeled Partials.</p>
<p>Return an iterator refering to the position of the first collated <a class="el" href="a00239.html">Partial</a>, or the end of the collated collection if there are no collated Partials. Since collating is in-place, the Partials collection may be smaller (fewer Partials) after collating, and any iterators on the collection may be invalidated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partials</td><td>is the collection of Partials to collate in-place </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the position of the end of the range of labeled Partials, which is either the end of the collection, or the position of the first collated <a class="el" href="a00239.html">Partial</a>, composed of unlabeled Partials in the original collection.</dd></dl>
<p>If compiled with NO_TEMPLATE_MEMBERS defined, then partials must be a PartialList, otherwise it can be any container type storing Partials that supports at least bidirectional iterators.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00143.html#ad6697f31891da46a32b01559a4a687f7">Collator::collate( Container &amp; partials )</a></dd></dl>
<p>Collate unlabeled (zero-labeled) Partials into the smallest-possible number of Partials that does not combine any overlapping Partials. Collated Partials assigned labels higher than any label in the original list, and appear at the end of the sequence, after all previously-labeled Partials.</p>
<p>Return an iterator refering to the position of the first collated <a class="el" href="a00239.html">Partial</a>, or the end of the collated collection if there are no collated Partials. Since collating is in-place, the Partials collection may be smaller (fewer Partials) after collating, and any iterators on the collection may be invalidated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partials</td><td>is the collection of Partials to collate in-place </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the position of the end of the range of labeled Partials, which is either the end of the collection, or the position of the first collated <a class="el" href="a00239.html">Partial</a>, composed of unlabeled Partials in the original collection.</dd></dl>
<p>If compiled with NO_TEMPLATE_MEMBERS defined, then partials must be a PartialList, otherwise it can be any container type storing Partials that supports at least bidirectional iterators. </p>

</div>
</div>
<a id="a28f2054049f3672dcbb9764a912946bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28f2054049f3672dcbb9764a912946bc">&#9670;&nbsp;</a></span>collate() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Container &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Container::iterator Loris::Collator::collate </td>
          <td>(</td>
          <td class="paramtype">Container &amp;&#160;</td>
          <td class="paramname"><em>partials</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>partialFadeTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>partialSilentTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Static member that constructs an instance and applies it to a sequence of Partials. Collated Partials are labeled beginning with the label one more than the largest label in the orignal Partials.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partials</td><td>is the collection of Partials to collate in-place </td></tr>
    <tr><td class="paramname">partialFadeTime</td><td>is the time (in seconds) over which Partials joined by collating fade to and from zero amplitude. </td></tr>
    <tr><td class="paramname">partialSilentTime</td><td>is the minimum duration (in seconds) of the silent (zero-amplitude) gap between two Partials joined by collating. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the position of the first collated <a class="el" href="a00239.html">Partial</a></dd></dl>
<p>If compiled with NO_TEMPLATE_MEMBERS defined, then partials must be a PartialList, otherwise it can be any container type storing Partials that supports at least bidirectional iterators.</p>
<p>Static member that constructs an instance and applies it to a sequence of Partials. Collated Partials are labeled beginning with the label one more than the largest label in the orignal Partials.</p>
<dl class="section post"><dt>Postcondition</dt><dd>All Partials in the collection are uniquely-labeled, collated Partials are all at the end of the collection (after all labeled Partials). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partials</td><td>is the collection of Partials to collate in-place </td></tr>
    <tr><td class="paramname">partialFadeTime</td><td>is the time (in seconds) over which Partials joined by collating fade to and from zero amplitude. </td></tr>
    <tr><td class="paramname">partialSilentTime</td><td>is the minimum duration (in seconds) of the silent (zero-amplitude) gap between two Partials joined by collateation. (Default is 0.0001 (one tenth of a millisecond). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the position of the first collated <a class="el" href="a00239.html">Partial</a></dd></dl>
<p>If compiled with NO_TEMPLATE_MEMBERS defined, then partials must be a PartialList, otherwise it can be any container type storing Partials that supports at least bidirectional iterators. </p>

</div>
</div>
<a id="a9103f890b518600b14f5fca890c8544c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9103f890b518600b14f5fca890c8544c">&#9670;&nbsp;</a></span>operator()()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Container &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Container::iterator Loris::Collator::operator() </td>
          <td>(</td>
          <td class="paramtype">Container &amp;&#160;</td>
          <td class="paramname"><em>partials</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function call operator: same as collate( PartialList &amp; partials ). </p>
<p>Function call operator: same as collate( PartialList &amp; partials ).</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00143.html#ad6697f31891da46a32b01559a4a687f7">Collator::collate( Container &amp; partials )</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="a00017_source.html">Collator.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Loris</b></li><li class="navelem"><a class="el" href="a00143.html">Collator</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
