<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Loris: Loris::Distiller Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Loris
   &#160;<span id="projectnumber">1.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00151.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="a00148.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Loris::Distiller Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="a00023_source.html">Distiller.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aebda8754fd5693f5b2277b9ad253b7cc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="a00151.html#aebda8754fd5693f5b2277b9ad253b7ccae345503d8b942ac1559bd2b1da68bc50">DefaultFadeTimeMs</a> = 5, 
<a class="el" href="a00151.html#aebda8754fd5693f5b2277b9ad253b7cca8d95767634e80bd9fc30d88b5357a68b">DefaultSilentTimeMs</a> = 1
 }</td></tr>
<tr class="separator:aebda8754fd5693f5b2277b9ad253b7cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6acd9fbfee78e892fa68935c6aaee0d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00151.html#a6acd9fbfee78e892fa68935c6aaee0d6">Distiller</a> (double partialFadeTime=<a class="el" href="a00151.html#aebda8754fd5693f5b2277b9ad253b7ccae345503d8b942ac1559bd2b1da68bc50">Distiller::DefaultFadeTimeMs</a>/1000.0, double partialSilentTime=<a class="el" href="a00151.html#aebda8754fd5693f5b2277b9ad253b7cca8d95767634e80bd9fc30d88b5357a68b">Distiller::DefaultSilentTimeMs</a>/1000.0)</td></tr>
<tr class="separator:a6acd9fbfee78e892fa68935c6aaee0d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e1a9b460ab9b91cfd807c5087b1ee27"><td class="memTemplParams" colspan="2">template&lt;typename Container &gt; </td></tr>
<tr class="memitem:a5e1a9b460ab9b91cfd807c5087b1ee27"><td class="memTemplItemLeft" align="right" valign="top">Container::iterator&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00151.html#a5e1a9b460ab9b91cfd807c5087b1ee27">distill</a> (Container &amp;partials)</td></tr>
<tr class="separator:a5e1a9b460ab9b91cfd807c5087b1ee27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06965b4721e3de9088bd61035c1bccae"><td class="memTemplParams" colspan="2">template&lt;typename Container &gt; </td></tr>
<tr class="memitem:a06965b4721e3de9088bd61035c1bccae"><td class="memTemplItemLeft" align="right" valign="top">Container::iterator&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00151.html#a06965b4721e3de9088bd61035c1bccae">operator()</a> (Container &amp;partials)</td></tr>
<tr class="memdesc:a06965b4721e3de9088bd61035c1bccae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function call operator: same as distill( PartialList &amp; partials ).  <a href="a00151.html#a06965b4721e3de9088bd61035c1bccae">More...</a><br /></td></tr>
<tr class="separator:a06965b4721e3de9088bd61035c1bccae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5fc5ec3b8ead145266142fec2583408"><td class="memItemLeft" align="right" valign="top"><a id="af5fc5ec3b8ead145266142fec2583408"></a>
template&lt;&gt; </td></tr>
<tr class="memitem:af5fc5ec3b8ead145266142fec2583408"><td class="memTemplItemLeft" align="right" valign="top">PartialList::iterator&#160;</td><td class="memTemplItemRight" valign="bottom"><b>distill</b> (PartialList &amp;partials)</td></tr>
<tr class="separator:af5fc5ec3b8ead145266142fec2583408"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4ed7a2604f92dc51d29b27ff82b4f56f"><td class="memTemplParams" colspan="2">template&lt;typename Container &gt; </td></tr>
<tr class="memitem:a4ed7a2604f92dc51d29b27ff82b4f56f"><td class="memTemplItemLeft" align="right" valign="top">static Container::iterator&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00151.html#a4ed7a2604f92dc51d29b27ff82b4f56f">distill</a> (Container &amp;partials, double partialFadeTime, double partialSilentTime=<a class="el" href="a00151.html#aebda8754fd5693f5b2277b9ad253b7cca8d95767634e80bd9fc30d88b5357a68b">DefaultSilentTimeMs</a>/1000.0)</td></tr>
<tr class="separator:a4ed7a2604f92dc51d29b27ff82b4f56f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class <a class="el" href="a00151.html">Distiller</a> represents an algorithm for "distilling" a group of Partials that logically represent a single component into a single <a class="el" href="a00239.html">Partial</a>.</p>
<p>The sound morphing algorithm in Loris requires that Partials in a given source be labeled uniquely, that is, no two Partials can have the same label. The <a class="el" href="a00151.html">Distiller</a> enforces this condition. All Partials identified with a particular frequency channel (see <a class="el" href="a00139.html">Channelizer</a>), and, therefore, having a common label, are distilled into a single <a class="el" href="a00239.html">Partial</a>, leaving at most a single <a class="el" href="a00239.html">Partial</a> per frequency channel and label. Channels that contain no Partials are not represented in the distilled data. Partials that are not labeled, that is, Partials having label 0, are are left unmodified at the end of the <a class="el" href="a00239.html">Partial</a> sequence.</p>
<p>Distillation modifies the <a class="el" href="a00239.html">Partial</a> container (a PartialList). All Partials in the distilled range having a common label are replaced by a single <a class="el" href="a00239.html">Partial</a> in the distillation process. Only labeled Partials are affected by distillation. <br  />
 </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="aebda8754fd5693f5b2277b9ad253b7cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebda8754fd5693f5b2277b9ad253b7cc">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aebda8754fd5693f5b2277b9ad253b7ccae345503d8b942ac1559bd2b1da68bc50"></a>DefaultFadeTimeMs&#160;</td><td class="fielddoc"><p>Default time in milliseconds over which Partials joined by distillation fade to and from zero amplitude. Divide by 1000 to use as a member function parameter. This parameter should be the same in <a class="el" href="a00151.html">Distiller</a>, <a class="el" href="a00339.html">Sieve</a>, and <a class="el" href="a00143.html">Collator</a>. </p>
</td></tr>
<tr><td class="fieldname"><a id="aebda8754fd5693f5b2277b9ad253b7cca8d95767634e80bd9fc30d88b5357a68b"></a>DefaultSilentTimeMs&#160;</td><td class="fielddoc"><p>Default minimum duration in milliseconds of the silent (zero-amplitude) gap between two Partials joined by distillation. Divide by 1000 to use as a member function parameter. This parameter should be the same in <a class="el" href="a00151.html">Distiller</a>, <a class="el" href="a00339.html">Sieve</a>, and <a class="el" href="a00143.html">Collator</a>. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6acd9fbfee78e892fa68935c6aaee0d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6acd9fbfee78e892fa68935c6aaee0d6">&#9670;&nbsp;</a></span>Distiller()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Loris::Distiller::Distiller </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>partialFadeTime</em> = <code><a class="el" href="a00151.html#aebda8754fd5693f5b2277b9ad253b7ccae345503d8b942ac1559bd2b1da68bc50">Distiller::DefaultFadeTimeMs</a>/1000.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>partialSilentTime</em> = <code><a class="el" href="a00151.html#aebda8754fd5693f5b2277b9ad253b7cca8d95767634e80bd9fc30d88b5357a68b">Distiller::DefaultSilentTimeMs</a>/1000.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct a new <a class="el" href="a00151.html">Distiller</a> using the specified fade time for gaps between Partials. When two non-overlapping Partials are distilled into a single <a class="el" href="a00239.html">Partial</a>, the distilled <a class="el" href="a00239.html">Partial</a> fades out at the end of the earlier <a class="el" href="a00239.html">Partial</a> and back in again at the onset of the later one. The fade time is the time over which these fades occur. By default, use a 1 ms fade time. The gap time is the additional time over which a <a class="el" href="a00239.html">Partial</a> faded out must remain at zero amplitude before it can fade back in. By default, use a gap time of one tenth of a millisecond, to prevent a pair of arbitrarily close null Breakpoints being inserted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partialFadeTime</td><td>is the time (in seconds) over which Partials joined by distillation fade to and from zero amplitude. (Default is Distiller::DefaultFadeTime). </td></tr>
    <tr><td class="paramname">partialSilentTime</td><td>is the minimum duration (in seconds) of the silent (zero-amplitude) gap between two Partials joined by distillation. (Default is Distiller::DefaultSilentTime). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5e1a9b460ab9b91cfd807c5087b1ee27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e1a9b460ab9b91cfd807c5087b1ee27">&#9670;&nbsp;</a></span>distill() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Container &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Container::iterator Loris::Distiller::distill </td>
          <td>(</td>
          <td class="paramtype">Container &amp;&#160;</td>
          <td class="paramname"><em>partials</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Distill labeled Partials in a collection leaving only a single <a class="el" href="a00239.html">Partial</a> per non-zero label.</p>
<p>Unlabeled (zero-labeled) Partials are left unmodified at the end of the distilled Partials.</p>
<p>Return an iterator refering to the position of the first unlabeled <a class="el" href="a00239.html">Partial</a>, or the end of the distilled collection if there are no unlabeled Partials. Since distillation is in-place, the Partials collection may be smaller (fewer Partials) after distillation, and any iterators on the collection may be invalidated.</p>
<dl class="section post"><dt>Postcondition</dt><dd>All labeled Partials in the collection are uniquely-labeled, and all unlabeled Partials have been moved to the end of the sequence. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partials</td><td>is the collection of Partials to distill in-place </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the position of the end of the range of distilled Partials, which is either the end of the collection, or the position or the first unlabeled <a class="el" href="a00239.html">Partial</a>.</dd></dl>
<p>If compiled with NO_TEMPLATE_MEMBERS defined, then partials must be a PartialList, otherwise it can be any container type storing Partials that supports at least bidirectional iterators.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00151.html#a5e1a9b460ab9b91cfd807c5087b1ee27">Distiller::distill( Container &amp; partials )</a></dd></dl>
<p>Distill labeled Partials in a collection leaving only a single <a class="el" href="a00239.html">Partial</a> per non-zero label.</p>
<p>Unlabeled (zero-labeled) Partials are left unmodified at the end of the distilled Partials.</p>
<p>Return an iterator refering to the position of the first unlabeled <a class="el" href="a00239.html">Partial</a>, or the end of the distilled collection if there are no unlabeled Partials. Since distillation is in-place, the Partials collection may be smaller (fewer Partials) after distillation, and any iterators on the collection may be invalidated.</p>
<dl class="section post"><dt>Postcondition</dt><dd>All labeled Partials in the collection are uniquely-labeled, and all unlabeled Partials have been moved to the end of the sequence. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partials</td><td>is the collection of Partials to distill in-place </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the position of the end of the range of distilled Partials, which is either the end of the collection, or the position or the first unlabeled <a class="el" href="a00239.html">Partial</a>.</dd></dl>
<p>If compiled with NO_TEMPLATE_MEMBERS defined, then partials must be a PartialList, otherwise it can be any container type storing Partials that supports at least bidirectional iterators. </p>

</div>
</div>
<a id="a4ed7a2604f92dc51d29b27ff82b4f56f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ed7a2604f92dc51d29b27ff82b4f56f">&#9670;&nbsp;</a></span>distill() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Container &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Container::iterator Loris::Distiller::distill </td>
          <td>(</td>
          <td class="paramtype">Container &amp;&#160;</td>
          <td class="paramname"><em>partials</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>partialFadeTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>partialSilentTime</em> = <code><a class="el" href="a00151.html#aebda8754fd5693f5b2277b9ad253b7cca8d95767634e80bd9fc30d88b5357a68b">DefaultSilentTimeMs</a>/1000.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Static member that constructs an instance and applies it to a sequence of Partials.</p>
<dl class="section post"><dt>Postcondition</dt><dd>All labeled Partials in the collection are uniquely-labeled, and all unlabeled Partials have been moved to the end of the sequence. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partials</td><td>is the collection of Partials to distill in-place </td></tr>
    <tr><td class="paramname">partialFadeTime</td><td>is the time (in seconds) over which Partials joined by distillation fade to and from zero amplitude. </td></tr>
    <tr><td class="paramname">partialSilentTime</td><td>is the minimum duration (in seconds) of the silent (zero-amplitude) gap between two Partials joined by distillation. (Default is Distiller::DefaultSilentTime). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the position of the end of the range of distilled Partials, which is either the end of the collection, or the position or the first unlabeled <a class="el" href="a00239.html">Partial</a>.</dd></dl>
<p>If compiled with NO_TEMPLATE_MEMBERS defined, then partials must be a PartialList, otherwise it can be any container type storing Partials that supports at least bidirectional iterators. </p>

</div>
</div>
<a id="a06965b4721e3de9088bd61035c1bccae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06965b4721e3de9088bd61035c1bccae">&#9670;&nbsp;</a></span>operator()()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Container &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Container::iterator Loris::Distiller::operator() </td>
          <td>(</td>
          <td class="paramtype">Container &amp;&#160;</td>
          <td class="paramname"><em>partials</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function call operator: same as distill( PartialList &amp; partials ). </p>
<p>Function call operator: same as distill( PartialList &amp; partials ).</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00151.html#a5e1a9b460ab9b91cfd807c5087b1ee27">Distiller::distill( Container &amp; partials )</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="a00023_source.html">Distiller.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Loris</b></li><li class="navelem"><a class="el" href="a00151.html">Distiller</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
